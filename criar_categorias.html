<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Criador de Categorias Automático</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; background: #F8F6F2; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); text-align: center; border: 1px solid #A68966; }
        button { background: #A68966; color: white; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 16px; }
        #status { margin-top: 20px; color: #666; font-size: 14px; }
    </style>
</head>
<body>

<div class="card">
    <h2 style="color:#A68966; font-family: serif;">Configurador Abella Joias</h2>
    <p>Este script criará as 11 categorias exatas da sua planilha.</p>
    <button onclick="configurarCategorias()">CRIAR CATEGORIAS AGORA</button>
    <div id="status">Aguardando comando...</div>
</div>

<script>
    // Configurações do seu Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyDPBZSxW8XjtQmDMUknzAyIlFda51MvMJY",
        authDomain: "catalogo-abella-joias.firebaseapp.com",
        databaseURL: "https://catalogo-abella-joias-default-rtdb.firebaseio.com",
        projectId: "catalogo-abella-joias"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Lista extraída dos seus CSVs (Parte 1 a 10)
    const categoriasDaPlanilha = [
        "Gargantilha",
        "Anéis",
        "Brincos Argolas de Strass e Zircônia",
        "Brincos Pequenos",
        "Brincos Médios",
        "Brincos Fantasia",
        "Brincos Argolas de Fio",
        "Pulseiras",
        "Pingentes",
        "Correntes",
        "Brincos Argolas de Zircônia" // Encontrada na Parte 1
    ];

    async function configurarCategorias() {
        const status = document.getElementById('status');
        status.innerText = "Limpando categorias antigas...";
        
        try {
            // Remove as categorias antigas para evitar bagunça
            await db.ref('categories').remove();

            for (const nome of categoriasDaPlanilha) {
                status.innerText = `Criando: ${nome}...`;
                
                // Cria a categoria no banco de dados
                // Deixamos a imagem vazia para você subir uma foto bonita no painel depois
                await db.ref('categories').push({
                    name: nome,
                    image: "" 
                });
            }

            status.innerHTML = "<b style='color: green;'>✅ SUCESSO!</b><br>As 11 categorias foram criadas corretamente.";
            alert("Categorias configuradas! Agora você pode importar os produtos.");
            
        } catch (error) {
            status.innerText = "Erro: " + error.message;
        }
    }
</script>
</body>
</html>
