<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Abella Joias | CatÃ¡logo Atacado</title>
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="Abella Joias | CatÃ¡logo Virtual">
    <meta property="og:description" content="Clique para conferir nossas novidades em joias no bruto e faÃ§a seu pedido.">
    <meta property="og:url" content="https://abellajoiasim-maker.github.io/abellajoias/">
    <meta property="og:image" content="https://raw.githubusercontent.com/abellajoiasim-maker/abellajoias/main/images/banners/banner-link.jpeg">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Poppins', sans-serif; background: #f8f6f2; color: #333; }
        .serif { font-family: 'Cinzel', serif; }
        .gold { color: #A68966; }
        .card { 
            background: #fff; 
            border-radius: 20px; 
            border: 1px solid #eee; 
            transition: .4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
        }
        .card:hover { transform: scale(1.05); border-color: #A68966; box-shadow: 0 10px 30px rgba(166,137,102,0.1); }
    </style>
</head>
<body>

<header class="bg-white border-b sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-8 text-center space-y-4">
    <h1 class="serif text-4xl gold tracking-[0.3em] uppercase">Abella Joias</h1>
    <div class="h-px bg-[#A68966] w-24 mx-auto opacity-30"></div>
    <p class="text-[10px] tracking-[0.5em] text-gray-400 uppercase font-bold italic">CatÃ¡logo de Joias no Bruto</p>
    
    <div class="flex justify-center mt-4">
        <a href="checkout_premium.html" class="bg-black text-white px-6 py-2 rounded-full text-[10px] font-bold tracking-widest uppercase flex items-center gap-2">
            ðŸ›’ Carrinho (<span id="cartCount">0</span>)
        </a>
    </div>
  </div>
</header>

<main class="max-w-7xl mx-auto p-6 md:p-12">
  <h2 class="serif text-xl text-center mb-10 text-gray-700 uppercase tracking-widest">Escolha uma ColeÃ§Ã£o</h2>
  <div id="gridCategorias" class="grid grid-cols-2 md:grid-cols-4 gap-8"></div>
</main>

<script>
// InicializaÃ§Ã£o do Firebase
firebase.initializeApp({
  apiKey: "AIzaSyDPBZSxW8XjtQmDMUknzAyIlFda51MvMJY",
  databaseURL: "https://catalogo-abella-joias-default-rtdb.firebaseio.com"
});
const db = firebase.database();

function atualizarContadorCarrinho() {
    const carrinho = JSON.parse(localStorage.getItem('carrinho') || '[]');
    document.getElementById('cartCount').innerText = carrinho.length;
}

// Carregar categorias
db.ref('categories').on('value', snap => {
  const grid = document.getElementById('gridCategorias');
  grid.innerHTML = '';
  let list = [];
  snap.forEach(s => list.push({ id: s.key, ...s.val() }));
  list.sort((a, b) => a.name.localeCompare(b.name));

  list.forEach(c => {
    if (c.paused) return;
    grid.innerHTML += `
    <a href="categoria.html?cat=${c.id}" class="card block overflow-hidden">
      <div class="aspect-square flex items-center justify-center p-6 bg-gray-50">
        <img src="${c.image || 'https://via.placeholder.com/400'}" class="max-h-full object-contain mix-blend-multiply">
      </div>
      <div class="p-6 text-center border-t border-gray-50">
        <h3 class="serif text-[11px] gold tracking-widest uppercase">${c.name}</h3>
      </div>
    </a>`;
  });
});

atualizarContadorCarrinho();
</script>

</body>
</html>
